import{__assign as n}from"../../../tslib/tslib.es6.js";function r(n){return n}function t(n,t){void 0===t&&(t=r);var u=[],e=!1;return{read:function(){if(e)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return u.length?u[u.length-1]:n},useMedium:function(n){var r=t(n,e);return u.push(r),function(){u=u.filter((function(n){return n!==r}))}},assignSyncMedium:function(n){for(e=!0;u.length;){var r=u;u=[],r.forEach(n)}u={push:function(r){return n(r)},filter:function(){return u}}},assignMedium:function(n){e=!0;var r=[];if(u.length){var t=u;u=[],t.forEach(n),r=u}var i=function(){var t=r;r=[],t.forEach(n)},o=function(){return Promise.resolve().then(i)};o(),u={push:function(n){r.push(n),o()},filter:function(n){return r=r.filter(n),u}}}}}function u(n,u){return void 0===u&&(u=r),t(n,u)}function e(r){void 0===r&&(r={});var u=t(null);return u.options=n({async:!0,ssr:!1},r),u}export{u as createMedium,e as createSidecarMedium};
//# sourceMappingURL=medium.js.map
