{"version":3,"file":"use-motion-ref.mjs.js","sources":["../../../../../../../../node_modules/framer-motion/dist/es/motion/utils/use-motion-ref.mjs"],"sourcesContent":["import { useCallback } from 'react';\nimport { isRefObject } from '../../utils/is-ref-object.mjs';\n\n/**\n * Creates a ref function that, when called, hydrates the provided\n * external ref and VisualElement.\n */\nfunction useMotionRef(visualState, visualElement, externalRef) {\n    return useCallback(function (instance) {\n        var _a;\n        instance && ((_a = visualState.mount) === null || _a === void 0 ? void 0 : _a.call(visualState, instance));\n        if (visualElement) {\n            instance\n                ? visualElement.mount(instance)\n                : visualElement.unmount();\n        }\n        if (externalRef) {\n            if (typeof externalRef === \"function\") {\n                externalRef(instance);\n            }\n            else if (isRefObject(externalRef)) {\n                externalRef.current = instance;\n            }\n        }\n    }, \n    /**\n     * Only pass a new ref callback to React if we've received a visual element\n     * factory. Otherwise we'll be mounting/remounting every time externalRef\n     * or other dependencies change.\n     */\n    [visualElement]);\n}\n\nexport { useMotionRef };\n"],"names":["useMotionRef","visualState","visualElement","externalRef","useCallback","instance","_a","mount","call","unmount","isRefObject","current"],"mappings":"6JAOA,SAASA,EAAaC,EAAaC,EAAeC,GAC9C,OAAOC,EAAAA,QAAAA,aAAY,SAAUC,GACzB,IAAIC,EACJD,IAA0C,QAA5BC,EAAKL,EAAYM,aAA0B,IAAPD,GAAyBA,EAAGE,KAAKP,EAAaI,IAC5FH,IACAG,EACMH,EAAcK,MAAMF,GACpBH,EAAcO,WAEpBN,IAC2B,mBAAhBA,EACPA,EAAYE,GAEPK,EAAYP,KACjBA,EAAYQ,QAAUN,GAGjC,GAMD,CAACH,GACL"}