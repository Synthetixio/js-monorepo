{"version":3,"file":"singleton.js","sources":["../../../../../../node_modules/react-style-singleton/dist/es2015/singleton.js"],"sourcesContent":["import { getNonce } from 'get-nonce';\nfunction makeStyleTag() {\n    if (!document)\n        return null;\n    var tag = document.createElement('style');\n    tag.type = 'text/css';\n    var nonce = getNonce();\n    if (nonce) {\n        tag.setAttribute('nonce', nonce);\n    }\n    return tag;\n}\nfunction injectStyles(tag, css) {\n    // @ts-ignore\n    if (tag.styleSheet) {\n        // @ts-ignore\n        tag.styleSheet.cssText = css;\n    }\n    else {\n        tag.appendChild(document.createTextNode(css));\n    }\n}\nfunction insertStyleTag(tag) {\n    var head = document.head || document.getElementsByTagName('head')[0];\n    head.appendChild(tag);\n}\nexport var stylesheetSingleton = function () {\n    var counter = 0;\n    var stylesheet = null;\n    return {\n        add: function (style) {\n            if (counter == 0) {\n                if ((stylesheet = makeStyleTag())) {\n                    injectStyles(stylesheet, style);\n                    insertStyleTag(stylesheet);\n                }\n            }\n            counter++;\n        },\n        remove: function () {\n            counter--;\n            if (!counter && stylesheet) {\n                stylesheet.parentNode && stylesheet.parentNode.removeChild(stylesheet);\n                stylesheet = null;\n            }\n        },\n    };\n};\n"],"names":["stylesheetSingleton","counter","stylesheet","add","style","tag","css","document","createElement","type","nonce","getNonce","setAttribute","makeStyleTag","styleSheet","cssText","appendChild","createTextNode","head","getElementsByTagName","insertStyleTag","remove","parentNode","removeChild"],"mappings":"mEA0BU,IAACA,EAAsB,WAC7B,IAAIC,EAAU,EACVC,EAAa,KACjB,MAAO,CACHC,IAAK,SAAUC,GAlBvB,IAAsBC,EAAKC,EAmBA,GAAXL,IACKC,EA/BrB,WACI,IAAKK,SACD,OAAO,KACX,IAAIF,EAAME,SAASC,cAAc,SACjCH,EAAII,KAAO,WACX,IAAIC,EAAQC,IAIZ,OAHID,GACAL,EAAIO,aAAa,QAASF,GAEvBL,CACX,CAqBkCQ,MApBPP,EAqBkBF,GArBvBC,EAqBWH,GAnBrBY,WAEJT,EAAIS,WAAWC,QAAUT,EAGzBD,EAAIW,YAAYT,SAASU,eAAeX,IAGhD,SAAwBD,IACTE,SAASW,MAAQX,SAASY,qBAAqB,QAAQ,IAC7DH,YAAYX,EACrB,CASoBe,CAAelB,IAGvBD,GACH,EACDoB,OAAQ,cACJpB,GACgBC,IACZA,EAAWoB,YAAcpB,EAAWoB,WAAWC,YAAYrB,GAC3DA,EAAa,KAEpB,EAET"}