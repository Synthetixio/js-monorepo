specVersion: 0.0.4
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: PoolModule
    network: goerli
    source:
      address: '0x8589Cf382d82fdDa237eFd75CEb493C4fe79A5ED'
      abi: PoolModule
      startBlock: 7833258
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - PoolModule
      abis:
        - name: PoolModule
          file: ./abis/PoolModule.json
      eventHandlers:
        - event: PoolCreated(indexed uint128,indexed address,indexed address)
          handler: handlePoolCreated
        - event: PoolNameUpdated(indexed uint128,indexed string,indexed address)
          handler: handlePoolNameUpdated
        - event: PoolOwnershipAccepted(indexed uint128,indexed address)
          handler: handleNewPoolOwner
        - event: PoolNominationRenounced(indexed uint128,indexed address)
          handler: handlePoolNominationRenounced
        - event: PoolNominationRevoked(indexed uint128,indexed address)
          handler: handlePoolNominationRevoked
        - event: PoolOwnerNominated(indexed uint128,indexed address,indexed address)
          handler: handlePoolOwnerNominated
        - event: PoolConfigurationSet(indexed uint128,(uint128,uint128,int128)[],indexed address)
          handler: handlePoolConfigurationSet
      file: ./src/goerli/core.ts

  - kind: ethereum
    name: MarketManagerModule
    network: goerli
    source:
      address: '0x8589Cf382d82fdDa237eFd75CEb493C4fe79A5ED'
      abi: MarketManagerModule
      startBlock: 7833258
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - MarketManagerModule
      abis:
        - name: MarketManagerModule
          file: ./abis/MarketManagerModule.json
      eventHandlers:
        - event: MarketRegistered(indexed address,indexed uint128,indexed address)
          handler: handleMarketCreated
        - event: MarketUsdDeposited(indexed uint128,indexed address,uint256,indexed address)
          handler: handleMarketUsdDeposited
        - event: MarketUsdWithdrawn(indexed uint128,indexed address,uint256,indexed address)
          handler: handleMarketUsdWithdrawn
      file: ./src/goerli/core.ts

  - kind: ethereum
    name: CollateralModule
    network: goerli
    source:
      address: '0x8589Cf382d82fdDa237eFd75CEb493C4fe79A5ED'
      abi: CollateralModule
      startBlock: 7833258
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - CollateralType
      abis:
        - name: CollateralModule
          file: ./abis/CollateralModule.json
      eventHandlers:
        - event: Deposited(indexed uint128,indexed address,uint256,indexed address)
          handler: handleDeposited
        - event: Withdrawn(indexed uint128,indexed address,uint256,indexed address)
          handler: handleWithdrawn
      file: ./src/goerli/core.ts

  - kind: ethereum
    name: AccountModule
    network: goerli
    source:
      address: '0x8589Cf382d82fdDa237eFd75CEb493C4fe79A5ED'
      abi: AccountModule
      startBlock: 7833258
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - AccountModule
        - AccountPermissionUsers
      abis:
        - name: AccountModule
          file: ./abis/AccountModule.json
      eventHandlers:
        - event: AccountCreated(indexed address,indexed uint128)
          handler: handleAccountCreated
        - event: PermissionGranted(indexed uint128,indexed bytes32,indexed address,address)
          handler: handlePermissionGranted
        - event: PermissionRevoked(indexed uint128,indexed bytes32,indexed address,address)
          handler: handlePermissionRevoked
      file: ./src/goerli/core.ts
  - kind: ethereum
    name: VaultModule
    network: goerli
    source:
      address: '0x8589Cf382d82fdDa237eFd75CEb493C4fe79A5ED'
      abi: VaultModule
      startBlock: 7833258
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - VaultModule
        - Position
      abis:
        - name: VaultModule
          file: ./abis/VaultModule.json
      eventHandlers:
        - event: DelegationUpdated(indexed uint128,indexed uint128,address,uint256,uint256,indexed address)
          handler: handleDelegationUpdated
      file: ./src/goerli/core.ts

  - kind: ethereum
    name: IssueUSDModule
    network: goerli
    source:
      address: '0x8589Cf382d82fdDa237eFd75CEb493C4fe79A5ED'
      abi: IssueUSDModule
      startBlock: 7833258
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - IssueUSDModule
      abis:
        - name: IssueUSDModule
          file: ./abis/IssueUSDModule.json
      eventHandlers:
        - event: UsdMinted(indexed uint128,indexed uint128,address,uint256,indexed address)
          handler: handleUSDMinted
        - event: UsdBurned(indexed uint128,indexed uint128,address,uint256,indexed address)
          handler: handleUSDBurned
      file: ./src/goerli/core.ts

  - kind: ethereum
    name: RewardsManagerModule
    network: goerli
    source:
      address: '0x8589Cf382d82fdDa237eFd75CEb493C4fe79A5ED'
      abi: RewardsManagerModule
      startBlock: 7833258
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - RewardsClaimed
        - RewardsDistribution
        - AccountRewardsDistributor
        - RewardsDistributor
      abis:
        - name: RewardsManagerModule
          file: ./abis/RewardsManagerModule.json
      eventHandlers:
        - event: RewardsDistributed(indexed uint128,indexed address,address,uint256,uint256,uint256)
          handler: handleRewardsDistributed
        - event: RewardsClaimed(indexed uint128,indexed uint128,indexed address,address,uint256)
          handler: handleRewardsClaimed
        - event: RewardsDistributorRegistered(indexed uint128,indexed address,indexed address)
          handler: handleRewardsDistributorRegistered
      file: ./src/goerli/core.ts

  - kind: ethereum
    name: LiquidationModule
    network: goerli
    source:
      address: '0x8589Cf382d82fdDa237eFd75CEb493C4fe79A5ED'
      abi: LiquidationModule
      startBlock: 7833258
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - Liquidation
        - VaultLiquidation
      abis:
        - name: LiquidationModule
          file: ./abis/LiquidationModule.json
      eventHandlers:
        - event: Liquidation(indexed uint128,indexed uint128,indexed address,(uint256,uint256,uint256),uint128,address)
          handler: handleLiquidation
        - event: VaultLiquidation(indexed uint128,indexed address,(uint256,uint256,uint256),uint128,address)
          handler: handleVaultLiquidation
      file: ./src/goerli/core.ts

  - kind: ethereum
    name: CollateralConfigurationModule
    network: goerli
    source:
      address: '0x8589Cf382d82fdDa237eFd75CEb493C4fe79A5ED'
      abi: CollateralConfigurationModule
      startBlock: 7833258
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - CollateralType
      abis:
        - name: CollateralConfigurationModule
          file: ./abis/CollateralConfigurationModule.json
      eventHandlers:
        - event: CollateralConfigured(indexed address,(bool,uint256,uint256,uint256,bytes32,address,uint256))
          handler: handleCollateralConfigured
      file: ./src/goerli/core.ts
