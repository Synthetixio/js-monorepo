{
  "_format": "hh-sol-artifact-1",
  "contractName": "AccountModule",
  "sourceName": "contracts/modules/core/AccountModule.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "permission",
          "type": "bytes32"
        }
      ],
      "name": "InvalidPermission",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidPermission",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "origin",
          "type": "address"
        }
      ],
      "name": "OnlyAccountTokenProxy",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "uint128",
          "name": "accountId",
          "type": "uint128"
        },
        {
          "internalType": "bytes32",
          "name": "permission",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "target",
          "type": "address"
        }
      ],
      "name": "PermissionDenied",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "uint128",
          "name": "accountId",
          "type": "uint128"
        },
        {
          "internalType": "bytes32",
          "name": "permission",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "PermissionNotGranted",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "PositionOutOfBounds",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ValueAlreadyInSet",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ValueNotInSet",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ZeroAddress",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "sender",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint128",
          "name": "accountId",
          "type": "uint128"
        }
      ],
      "name": "AccountCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint128",
          "name": "accountId",
          "type": "uint128"
        },
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "permission",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "sender",
          "type": "address"
        }
      ],
      "name": "PermissionGranted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint128",
          "name": "accountId",
          "type": "uint128"
        },
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "permission",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "sender",
          "type": "address"
        }
      ],
      "name": "PermissionRevoked",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint128",
          "name": "requestedAccountId",
          "type": "uint128"
        }
      ],
      "name": "createAccount",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint128",
          "name": "accountId",
          "type": "uint128"
        }
      ],
      "name": "getAccountOwner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint128",
          "name": "accountId",
          "type": "uint128"
        }
      ],
      "name": "getAccountPermissions",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "user",
              "type": "address"
            },
            {
              "internalType": "bytes32[]",
              "name": "permissions",
              "type": "bytes32[]"
            }
          ],
          "internalType": "struct IAccountModule.AccountPermissions[]",
          "name": "permissions",
          "type": "tuple[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getAccountTokenAddress",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint128",
          "name": "accountId",
          "type": "uint128"
        },
        {
          "internalType": "bytes32",
          "name": "permission",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "grantPermission",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint128",
          "name": "accountId",
          "type": "uint128"
        },
        {
          "internalType": "bytes32",
          "name": "permission",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "hasPermission",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint128",
          "name": "accountId",
          "type": "uint128"
        },
        {
          "internalType": "bytes32",
          "name": "permission",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "isAuthorized",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "to",
          "type": "address"
        },
        {
          "internalType": "uint128",
          "name": "accountId",
          "type": "uint128"
        }
      ],
      "name": "notifyAccountTransfer",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint128",
          "name": "accountId",
          "type": "uint128"
        },
        {
          "internalType": "bytes32",
          "name": "permission",
          "type": "bytes32"
        }
      ],
      "name": "renouncePermission",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint128",
          "name": "accountId",
          "type": "uint128"
        },
        {
          "internalType": "bytes32",
          "name": "permission",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "revokePermission",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50610e67806100206000396000f3fe608060405234801561001057600080fd5b506004361061009d5760003560e01c8063a148bf1011610066578063a148bf1014610118578063a762728814610138578063a796fecd1461014b578063bf60c31d1461016b578063cadb09a51461017e57600080fd5b8062cd9ef3146100a25780631213d453146100b757806347c1c561146100df5780637dec8b55146100f25780638d34166b14610105575b600080fd5b6100b56100b0366004610c50565b610191565b005b6100ca6100c5366004610c50565b610215565b60405190151581526020015b60405180910390f35b6100b56100ed366004610c8c565b610237565b6100b5610100366004610cb6565b6102e7565b6100ca610113366004610c50565b61033e565b61012061034e565b6040516001600160a01b0390911681526020016100d6565b6100b5610146366004610c50565b610375565b61015e610159366004610ce9565b6103dd565b6040516100d69190610d04565b610120610179366004610ce9565b61050a565b6100b561018c366004610ce9565b610528565b61019a826105e2565b6101ac836420a226a4a760d91b610653565b6101c482826101ba86610699565b60010191906106f9565b6040513381526001600160a01b0382169083906001600160801b038616907f32ff7c3f84299a3543c1e89057e98ba962f4fbe7786c52289e184c57b9a36a50906020015b60405180910390a4505050565b600061022f838361022587610699565b6001019190610783565b949350505050565b61024f813361024585610699565b60010191906107bc565b61028957604051633b9fd5cf60e21b81526001600160801b0383166004820152602481018290523360448201526064015b60405180910390fd5b6102a1813361029785610699565b6001019190610801565b604051338082529082906001600160801b038516907f116c7e9cd2db316974fb473babcbcd625be1350842d0319e761d30aefb09a58a9060200160405180910390a45050565b6102ef610854565b60006102fa82610699565b600181018054919250610315916001600160a01b0316610891565b6001810180546001600160a01b0385166001600160a01b0319909116179055505050565b505050565b600061022f838361024587610699565b6000610366691858d8dbdd5b9d13999d60b21b610907565b546001600160a01b0316919050565b610387836420a226a4a760d91b610653565b610395828261029786610699565b6040513381526001600160a01b0382169083906001600160801b038616907f116c7e9cd2db316974fb473babcbcd625be1350842d0319e761d30aefb09a58a90602001610208565b606060006103ea83610699565b600101905060006103fd82600201610945565b90508067ffffffffffffffff81111561041857610418610dad565b60405190808252806020026020018201604052801561045e57816020015b6040805180820190915260008152606060208201528152602001906001900390816104365790505b50925060015b81811161050257600061047a6002850183610955565b90506040518060400160405280826001600160a01b031681526020016104c5866001016000856001600160a01b03166001600160a01b03168152602001908152602001600020610968565b9052856104d3600185610dd9565b815181106104e3576104e3610dec565b60200260200101819052505080806104fa90610e02565b915050610464565b505050919050565b600061051582610699565b600101546001600160a01b031692915050565b600061053261034e565b6040516340c10f1960e01b81523360048201526001600160801b03841660248201529091506001600160a01b038216906340c10f1990604401600060405180830381600087803b15801561058557600080fd5b505af1158015610599573d6000803e3d6000fd5b505050506105a782336109c4565b506040516001600160801b0383169033907ff30c9f4cbc6701cfc4f4e8139a678e19dbf1550d3e90b764206fe4355f5d822f90600090a35050565b67574954484452415760c01b811415801561060857506744454c454741544560c01b8114155b801561061b5750631352539560e21b8114155b801561062f57506420a226a4a760d91b8114155b156106505760405163139ce95960e11b815260048101829052602401610280565b50565b610661813361022585610699565b6106955760405162ef2a9160e11b81526001600160801b038316600482015260248101829052336044820152606401610280565b5050565b600080826040516020016106da91906040808252600790820152661058d8dbdd5b9d60ca1b60608201526001600160801b0391909116602082015260800190565b60408051601f1981840301815291905280516020909101209392505050565b6001600160a01b0381166107205760405163d92e233d60e01b815260040160405180910390fd5b8160000361074157604051634345326f60e11b815260040160405180910390fd5b61074e6002840182610a1c565b61075f5761075f6002840182610a3e565b6001600160a01b038116600090815260018401602052604090206103399083610a4d565b82546000906001600160a01b03838116911614806107af57506107af846420a226a4a760d91b846107bc565b8061022f575061022f8484845b60006001600160a01b0382161580159061022f57506001600160a01b03821660009081526001858101602090815260408084208785529092019052902054151561022f565b6001600160a01b038116600090815260018401602052604090206108259083610aa6565b6001600160a01b0381166000908152600184016020526040902054600003610339576103396002840182610ba5565b61085c61034e565b6001600160a01b0316336001600160a01b03161461088f576040516324de626960e21b8152336004820152602401610280565b565b6001600160a01b038116600090815260018301602052604081206108b490610968565b905060015b81518111610901576108ef84836108d1600185610dd9565b815181106108e1576108e1610dec565b602002602001015185610801565b806108f981610e02565b9150506108b9565b50505050565b6040805160208101829052601060608201526f4173736f63696174656453797374656d60801b6080820152908101829052600090819060a0016106da565b600061094f825490565b92915050565b60006109618383610bb8565b9392505050565b6060816000018054806020026020016040519081016040528092919081815260200182805480156109b857602002820191906000526020600020905b8154815260200190600101908083116109a4575b50505050509050919050565b60006109cf83610699565b80546fffffffffffffffffffffffffffffffff19166001600160801b0394909416939093178355506001820180546001600160a01b0319166001600160a01b039290921691909117905590565b6001600160a01b03811660009081526001830160205260408120541515610961565b610695826001600160a01b0383165b600081815260018301602052604090205415610a7c5760405163682ad32d60e01b815260040160405180910390fd5b81546001818101845560008481526020808220909301849055845493815293019052604090912055565b600081815260018301602052604081205490819003610ad85760405163b3dbc29360e01b815260040160405180910390fd5b6000610ae5600183610dd9565b8454909150600090610af990600190610dd9565b9050808214610b5e576000856000018281548110610b1957610b19610dec565b9060005260206000200154905080866000018481548110610b3c57610b3c610dec565b6000918252602080832090910192909255918252600187019052604090208390555b8454859080610b6f57610b6f610e1b565b60019003818190600052602060002001600090559055846001016000858152602001908152602001600020600090555050505050565b610695826001600160a01b038316610aa6565b6000811580610bc75750825482115b15610be55760405163eb9bc44760e01b815260040160405180910390fd5b6000610bf2600184610dd9565b9050836000018181548110610c0957610c09610dec565b906000526020600020015491505092915050565b80356001600160801b0381168114610c3457600080fd5b919050565b80356001600160a01b0381168114610c3457600080fd5b600080600060608486031215610c6557600080fd5b610c6e84610c1d565b925060208401359150610c8360408501610c39565b90509250925092565b60008060408385031215610c9f57600080fd5b610ca883610c1d565b946020939093013593505050565b60008060408385031215610cc957600080fd5b610cd283610c39565b9150610ce060208401610c1d565b90509250929050565b600060208284031215610cfb57600080fd5b61096182610c1d565b60006020808301818452808551808352604092508286019150828160051b8701018488016000805b84811015610d9e57898403603f19018652825180516001600160a01b03168552880151888501889052805188860181905290890190839060608701905b80831015610d895783518252928b019260019290920191908b0190610d69565b50978a01979550505091870191600101610d2c565b50919998505050505050505050565b634e487b7160e01b600052604160045260246000fd5b634e487b7160e01b600052601160045260246000fd5b8181038181111561094f5761094f610dc3565b634e487b7160e01b600052603260045260246000fd5b600060018201610e1457610e14610dc3565b5060010190565b634e487b7160e01b600052603160045260246000fdfea2646970667358221220d0d33f67fa32d81be5b78d00c6f2eb8d07d8a7c2eeeb7aa7893ab7100623709b64736f6c63430008110033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061009d5760003560e01c8063a148bf1011610066578063a148bf1014610118578063a762728814610138578063a796fecd1461014b578063bf60c31d1461016b578063cadb09a51461017e57600080fd5b8062cd9ef3146100a25780631213d453146100b757806347c1c561146100df5780637dec8b55146100f25780638d34166b14610105575b600080fd5b6100b56100b0366004610c50565b610191565b005b6100ca6100c5366004610c50565b610215565b60405190151581526020015b60405180910390f35b6100b56100ed366004610c8c565b610237565b6100b5610100366004610cb6565b6102e7565b6100ca610113366004610c50565b61033e565b61012061034e565b6040516001600160a01b0390911681526020016100d6565b6100b5610146366004610c50565b610375565b61015e610159366004610ce9565b6103dd565b6040516100d69190610d04565b610120610179366004610ce9565b61050a565b6100b561018c366004610ce9565b610528565b61019a826105e2565b6101ac836420a226a4a760d91b610653565b6101c482826101ba86610699565b60010191906106f9565b6040513381526001600160a01b0382169083906001600160801b038616907f32ff7c3f84299a3543c1e89057e98ba962f4fbe7786c52289e184c57b9a36a50906020015b60405180910390a4505050565b600061022f838361022587610699565b6001019190610783565b949350505050565b61024f813361024585610699565b60010191906107bc565b61028957604051633b9fd5cf60e21b81526001600160801b0383166004820152602481018290523360448201526064015b60405180910390fd5b6102a1813361029785610699565b6001019190610801565b604051338082529082906001600160801b038516907f116c7e9cd2db316974fb473babcbcd625be1350842d0319e761d30aefb09a58a9060200160405180910390a45050565b6102ef610854565b60006102fa82610699565b600181018054919250610315916001600160a01b0316610891565b6001810180546001600160a01b0385166001600160a01b0319909116179055505050565b505050565b600061022f838361024587610699565b6000610366691858d8dbdd5b9d13999d60b21b610907565b546001600160a01b0316919050565b610387836420a226a4a760d91b610653565b610395828261029786610699565b6040513381526001600160a01b0382169083906001600160801b038616907f116c7e9cd2db316974fb473babcbcd625be1350842d0319e761d30aefb09a58a90602001610208565b606060006103ea83610699565b600101905060006103fd82600201610945565b90508067ffffffffffffffff81111561041857610418610dad565b60405190808252806020026020018201604052801561045e57816020015b6040805180820190915260008152606060208201528152602001906001900390816104365790505b50925060015b81811161050257600061047a6002850183610955565b90506040518060400160405280826001600160a01b031681526020016104c5866001016000856001600160a01b03166001600160a01b03168152602001908152602001600020610968565b9052856104d3600185610dd9565b815181106104e3576104e3610dec565b60200260200101819052505080806104fa90610e02565b915050610464565b505050919050565b600061051582610699565b600101546001600160a01b031692915050565b600061053261034e565b6040516340c10f1960e01b81523360048201526001600160801b03841660248201529091506001600160a01b038216906340c10f1990604401600060405180830381600087803b15801561058557600080fd5b505af1158015610599573d6000803e3d6000fd5b505050506105a782336109c4565b506040516001600160801b0383169033907ff30c9f4cbc6701cfc4f4e8139a678e19dbf1550d3e90b764206fe4355f5d822f90600090a35050565b67574954484452415760c01b811415801561060857506744454c454741544560c01b8114155b801561061b5750631352539560e21b8114155b801561062f57506420a226a4a760d91b8114155b156106505760405163139ce95960e11b815260048101829052602401610280565b50565b610661813361022585610699565b6106955760405162ef2a9160e11b81526001600160801b038316600482015260248101829052336044820152606401610280565b5050565b600080826040516020016106da91906040808252600790820152661058d8dbdd5b9d60ca1b60608201526001600160801b0391909116602082015260800190565b60408051601f1981840301815291905280516020909101209392505050565b6001600160a01b0381166107205760405163d92e233d60e01b815260040160405180910390fd5b8160000361074157604051634345326f60e11b815260040160405180910390fd5b61074e6002840182610a1c565b61075f5761075f6002840182610a3e565b6001600160a01b038116600090815260018401602052604090206103399083610a4d565b82546000906001600160a01b03838116911614806107af57506107af846420a226a4a760d91b846107bc565b8061022f575061022f8484845b60006001600160a01b0382161580159061022f57506001600160a01b03821660009081526001858101602090815260408084208785529092019052902054151561022f565b6001600160a01b038116600090815260018401602052604090206108259083610aa6565b6001600160a01b0381166000908152600184016020526040902054600003610339576103396002840182610ba5565b61085c61034e565b6001600160a01b0316336001600160a01b03161461088f576040516324de626960e21b8152336004820152602401610280565b565b6001600160a01b038116600090815260018301602052604081206108b490610968565b905060015b81518111610901576108ef84836108d1600185610dd9565b815181106108e1576108e1610dec565b602002602001015185610801565b806108f981610e02565b9150506108b9565b50505050565b6040805160208101829052601060608201526f4173736f63696174656453797374656d60801b6080820152908101829052600090819060a0016106da565b600061094f825490565b92915050565b60006109618383610bb8565b9392505050565b6060816000018054806020026020016040519081016040528092919081815260200182805480156109b857602002820191906000526020600020905b8154815260200190600101908083116109a4575b50505050509050919050565b60006109cf83610699565b80546fffffffffffffffffffffffffffffffff19166001600160801b0394909416939093178355506001820180546001600160a01b0319166001600160a01b039290921691909117905590565b6001600160a01b03811660009081526001830160205260408120541515610961565b610695826001600160a01b0383165b600081815260018301602052604090205415610a7c5760405163682ad32d60e01b815260040160405180910390fd5b81546001818101845560008481526020808220909301849055845493815293019052604090912055565b600081815260018301602052604081205490819003610ad85760405163b3dbc29360e01b815260040160405180910390fd5b6000610ae5600183610dd9565b8454909150600090610af990600190610dd9565b9050808214610b5e576000856000018281548110610b1957610b19610dec565b9060005260206000200154905080866000018481548110610b3c57610b3c610dec565b6000918252602080832090910192909255918252600187019052604090208390555b8454859080610b6f57610b6f610e1b565b60019003818190600052602060002001600090559055846001016000858152602001908152602001600020600090555050505050565b610695826001600160a01b038316610aa6565b6000811580610bc75750825482115b15610be55760405163eb9bc44760e01b815260040160405180910390fd5b6000610bf2600184610dd9565b9050836000018181548110610c0957610c09610dec565b906000526020600020015491505092915050565b80356001600160801b0381168114610c3457600080fd5b919050565b80356001600160a01b0381168114610c3457600080fd5b600080600060608486031215610c6557600080fd5b610c6e84610c1d565b925060208401359150610c8360408501610c39565b90509250925092565b60008060408385031215610c9f57600080fd5b610ca883610c1d565b946020939093013593505050565b60008060408385031215610cc957600080fd5b610cd283610c39565b9150610ce060208401610c1d565b90509250929050565b600060208284031215610cfb57600080fd5b61096182610c1d565b60006020808301818452808551808352604092508286019150828160051b8701018488016000805b84811015610d9e57898403603f19018652825180516001600160a01b03168552880151888501889052805188860181905290890190839060608701905b80831015610d895783518252928b019260019290920191908b0190610d69565b50978a01979550505091870191600101610d2c565b50919998505050505050505050565b634e487b7160e01b600052604160045260246000fd5b634e487b7160e01b600052601160045260246000fd5b8181038181111561094f5761094f610dc3565b634e487b7160e01b600052603260045260246000fd5b600060018201610e1457610e14610dc3565b5060010190565b634e487b7160e01b600052603160045260246000fdfea2646970667358221220d0d33f67fa32d81be5b78d00c6f2eb8d07d8a7c2eeeb7aa7893ab7100623709b64736f6c63430008110033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
